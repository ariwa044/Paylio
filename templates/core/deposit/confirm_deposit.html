{% extends 'partials/dashboard-base.html' %}
{% load static %}
{% load humanize %}


{% block content %}
<section class="dashboard-section body-collapse pay step">
    <div class="overlay pt-120">
        <div class="container-fruid">
            <div class="main-content">
                <div class="row justify-content-center">
                    <div class="col-xl-6 col-lg-8">
                        <div class="deposit-box bg-white p-4 p-md-5 rounded shadow-sm">
                            <div class="section-header text-center mb-4">
                                <h4 class="title mb-2">Confirm Deposit</h4>
                                <p class="text-muted">Please review your deposit details below</p>
                            </div>
                            
                            {% include 'partials/messages.html' %}
                            
                            <div class="confirm-details mt-4">
                                <div class="text-center mb-4">
                                    <div class="text" style="color: #0c267f; font-size: 32px; font-weight: bold;">${{ transaction.amount|floatformat:2|intcomma }}</div>
                                    <span class="text-muted">Total Amount</span>
                                </div>

                                <ul class="list-group list-group-flush mb-4 border rounded">
                                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                        <span class="text-muted"><i class="fas fa-hashtag me-2"></i>Transaction ID</span>
                                        <span class="font-monospace fw-bold">{{ transaction.transaction_id }}</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                        <span class="text-muted"><i class="fas fa-info-circle me-2"></i>Type</span>
                                        <span class="badge bg-primary rounded-pill">{{ transaction.transaction_type|title }}</span>
                                    </li>
                                    {% if transaction.description %}
                                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                        <span class="text-muted"><i class="fas fa-align-left me-2"></i>Description</span>
                                        <span>{{ transaction.description }}</span>
                                    </li>
                                    {% endif %}
                                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                                        <span class="text-muted"><i class="far fa-calendar-alt me-2"></i>Date</span>
                                        <span>{{ transaction.date|date:"M d, Y H:i" }}</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between align-items-center p-3 bg-light">
                                        <span class="text-muted fw-bold">Status</span>
                                        <span class="badge bg-warning text-dark">Pending Confirmation</span>
                                    </li>
                                </ul>

                                <form action="" method="POST">
                                    {% csrf_token %}
                                    <div class="d-grid gap-3">
                                        <button type="submit" class="cmn-btn btn-lg w-100">
                                            <i class="fas fa-check-circle me-2"></i>Confirm & Process Deposit
                                        </button>
                                        <a href="{% url 'core:initiate-deposit' %}" class="btn btn-outline-danger w-100" style="border: none;";>
                                            <i class="fas fa-times me-2"></i>Cancel Transaction
                                        </a>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}